<?xml version="1.0" encoding="utf-8"?>
<layout>
	<data>
		<import type="com.herokuapp.pointofsale.models.authentication.Auth.DataBinder" />
		<variable name="authVm" type="DataBinder" />
	</data>

	<ScrollView xmlns:android="http://schemas.android.com/apk/res/android"
		xmlns:app="http://schemas.android.com/apk/res-auto"
		android:layout_width="match_parent"
		android:layout_height="match_parent"
		android:fillViewport="true">
		<android.support.constraint.ConstraintLayout
			android:layout_width="match_parent"
			android:layout_height="wrap_content"
			android:background="@drawable/_background">
			<LinearLayout
				android:layout_width="match_parent"
				android:layout_height="wrap_content"
				android:orientation="vertical"
				app:layout_constraintBottom_toBottomOf="parent"
				app:layout_constraintLeft_toLeftOf="parent"
				app:layout_constraintRight_toRightOf="parent"
				app:layout_constraintTop_toTopOf="parent">
				<android.support.constraint.ConstraintLayout
					android:layout_width="match_parent"
					android:layout_height="wrap_content">
					<TextView
						android:id="@+id/page_identifier"
						android:layout_width="wrap_content"
						android:layout_height="wrap_content"
						android:layout_margin="@dimen/margin_3rem"
						android:text="@string/two_step_auth"
						android:drawableStart="@drawable/ic_lock_open_black_24dp"
						android:textColor="@color/whitesmoke"
						android:textAppearance="@style/TextAppearance.AppCompat.Display1"
						app:layout_constraintLeft_toLeftOf="parent"
						app:layout_constraintRight_toRightOf="parent"
						app:layout_constraintBottom_toBottomOf="parent"
						app:layout_constraintTop_toTopOf="parent"/>
				</android.support.constraint.ConstraintLayout>
				<LinearLayout
					android:layout_width="match_parent"
					android:layout_height="wrap_content"
					android:padding="@dimen/margin_3rem"
					android:background="@drawable/box_shadow_default"
					android:orientation="vertical"
					android:layout_margin="@dimen/margin_3rem">
					<android.support.design.card.MaterialCardView
						android:layout_width="match_parent"
						android:layout_height="wrap_content"
						app:cardBackgroundColor="@color/transparent"
						app:cardElevation="@dimen/margin_0"
						app:contentPadding="@dimen/margin_2rem"
						android:layout_marginBottom="@dimen/margin_1rem"
						android:animateLayoutChanges="true"
						style="@style/Widget.MaterialComponents.CardView">
						<LinearLayout
							android:layout_width="match_parent"
							android:layout_height="wrap_content"
							android:orientation="vertical">
							<android.support.constraint.ConstraintLayout
								android:layout_width="match_parent"
								android:layout_height="wrap_content">
								<de.hdodenhof.circleimageview.CircleImageView
									android:id="@+id/google_logo"
									android:layout_height="40dp"
									android:layout_width="40dp"
									android:src="@drawable/google"
									android:scaleType="centerCrop"
									app:layout_constraintLeft_toLeftOf="parent"
									app:layout_constraintTop_toTopOf="parent"
									app:layout_constraintBottom_toBottomOf="parent"/>
								<TextView
									android:layout_width="wrap_content"
									android:layout_height="wrap_content"
									android:textAppearance="?android:attr/textAppearanceLarge"
									android:text="@string/google_authenticator"
									android:layout_marginStart="@dimen/margin_2rem"
									app:layout_constraintLeft_toRightOf="@id/google_logo"
									app:layout_constraintTop_toTopOf="parent"/>
								<TextView
									android:layout_width="wrap_content"
									android:layout_height="wrap_content"
									android:text="@string/recommended"
									android:textAppearance="?android:attr/textAppearanceSmall"
									android:layout_marginStart="@dimen/margin_2rem"
									app:layout_constraintLeft_toRightOf="@id/google_logo"
									app:layout_constraintBottom_toBottomOf="parent"/>
								<android.support.design.button.MaterialButton
									android:id="@+id/google_toggle"
									android:layout_width="wrap_content"
									android:layout_height="wrap_content"
									app:icon="@drawable/ic_keyboard_arrow_up_black_24dp"
									app:iconSize="34dp"
									app:iconTint="@color/blacksmoke"
									app:backgroundTint="@color/transparent"
									app:iconPadding="@dimen/margin_0"
									android:onClick="googleCollapse"
									android:layout_marginEnd="@dimen/margin_1rem"
									app:layout_constraintRight_toRightOf="parent"
									app:layout_constraintTop_toTopOf="parent" />
							</android.support.constraint.ConstraintLayout>
							<android.support.design.widget.TextInputLayout
								android:layout_width="match_parent"
								android:layout_height="wrap_content"
								android:animateLayoutChanges="true"
								android:layout_marginTop="@dimen/margin_1rem"
								android:layout_marginBottom="@dimen/margin_1rem"
								android:id="@+id/code_edit_text"
								app:helperText="e.g 123456">
								<android.support.design.widget.TextInputEditText
									android:layout_width="match_parent"
									android:layout_height="wrap_content"
									android:inputType="number"
									android:hint="@string/two_fa_hint"
									android:singleLine="true"
									android:layout_alignParentTop="true"
									android:text="@={authVm.codeInput}"
									android:drawableStart="@drawable/ic_code_black_24dp"
									android:layout_alignParentEnd="true"/>
							</android.support.design.widget.TextInputLayout>
							<android.support.constraint.ConstraintLayout
								android:id="@+id/code_button"
								android:animateLayoutChanges="true"
								android:layout_width="match_parent"
								android:layout_height="wrap_content">
								<android.support.design.button.MaterialButton
									android:id="@+id/google_authenticator_button"
									style="@style/Widget.MaterialComponents.Button"
									android:layout_width="wrap_content"
									android:layout_height="wrap_content"
									android:background="@color/colorAccent"
									android:onClick="verifyGoogleCode"
									android:text="@string/verify"
									android:textColor="@color/whitesmoke"
									app:layout_constraintBottom_toBottomOf="parent"
									app:layout_constraintRight_toRightOf="parent"
									app:layout_constraintTop_toTopOf="parent"
									app:rippleColor="@color/smoke" />
							</android.support.constraint.ConstraintLayout>
						</LinearLayout>
					</android.support.design.card.MaterialCardView>
					<View
						android:layout_width="match_parent"
						android:layout_height="0.8dp"
						android:background="@android:color/darker_gray"/>
					<android.support.design.card.MaterialCardView
						android:layout_width="match_parent"
						android:layout_height="wrap_content"
						app:contentPadding="@dimen/margin_2rem"
						app:cardBackgroundColor="@color/transparent"
						app:cardElevation="@dimen/margin_0"
						android:animateLayoutChanges="true"
						android:layout_marginTop="@dimen/margin_1rem"
						style="@style/Widget.MaterialComponents.CardView">
						<LinearLayout
							android:layout_width="match_parent"
							android:layout_height="wrap_content"
							android:orientation="vertical">
							<android.support.constraint.ConstraintLayout
								android:layout_width="match_parent"
								android:layout_height="wrap_content">
								<de.hdodenhof.circleimageview.CircleImageView
									android:layout_height="40dp"
									android:layout_width="40dp"
									android:src="@drawable/ic_email_black_24dp"
									android:id="@+id/email_logo"
									android:scaleType="centerCrop"
									android:layout_gravity="center_vertical"
									app:layout_constraintLeft_toLeftOf="parent"
									app:layout_constraintTop_toTopOf="parent"
									app:layout_constraintBottom_toBottomOf="parent"/>
								<TextView
									android:layout_width="wrap_content"
									android:layout_height="wrap_content"
									android:textAppearance="?android:attr/textAppearanceLarge"
									android:layout_marginStart="@dimen/margin_2rem"
									android:text="@string/email_authenticator"
									app:layout_constraintLeft_toRightOf="@id/email_logo"
									app:layout_constraintTop_toTopOf="parent"
									app:layout_constraintBottom_toBottomOf="parent"/>
								<android.support.design.button.MaterialButton
									android:id="@+id/email_toggle"
									android:layout_width="wrap_content"
									android:layout_height="wrap_content"
									app:icon="@drawable/ic_keyboard_arrow_down_black_24dp"
									app:iconSize="34dp"
									app:iconTint="@color/blacksmoke"
									app:backgroundTint="@color/transparent"
									app:iconPadding="@dimen/margin_0"
									android:onClick="emailCollapse"
									android:layout_marginEnd="@dimen/margin_2rem"
									app:layout_constraintRight_toRightOf="parent"
									app:layout_constraintTop_toTopOf="parent"
									app:layout_constraintBottom_toBottomOf="parent"/>
							</android.support.constraint.ConstraintLayout>
							<android.support.design.widget.TextInputLayout
								android:layout_width="match_parent"
								android:animateLayoutChanges="true"
								android:layout_height="wrap_content"
								android:layout_marginTop="@dimen/margin_1rem"
								android:layout_marginBottom="@dimen/margin_1rem"
								android:id="@+id/email_edit_text"
								android:visibility="gone"
								app:helperText="e.g 123456">
								<android.support.design.widget.TextInputEditText
									android:layout_width="match_parent"
									android:layout_height="wrap_content"
									android:inputType="number"
									android:hint="@string/two_fa_hint"
									android:singleLine="true"
									android:layout_alignParentTop="true"
									android:text="@={authVm.codeInput}"
									android:drawableStart="@drawable/ic_code_black_24dp"
									android:layout_alignParentEnd="true"/>
							</android.support.design.widget.TextInputLayout>
							<android.support.constraint.ConstraintLayout
								android:layout_width="match_parent"
								android:visibility="gone"
								android:animateLayoutChanges="true"
								android:id="@+id/emailLayout"
								android:layout_height="wrap_content">
								<android.support.design.button.MaterialButton
									android:id="@+id/email_button"
									style="@style/Widget.MaterialComponents.Button.TextButton"
									android:layout_width="wrap_content"
									android:layout_height="wrap_content"
									android:onClick="sendEmail"
									android:layout_marginEnd="@dimen/margin_2rem"
									android:text="@string/send_code"
									android:textColor="@color/colorAccentText"
									app:layout_constraintBottom_toBottomOf="parent"
									app:layout_constraintRight_toLeftOf="@id/email_authenticator_button"
									app:layout_constraintTop_toTopOf="parent"
									app:rippleColor="@color/colorAccent" />
								<android.support.design.button.MaterialButton
									android:id="@+id/email_authenticator_button"
									style="@style/Widget.MaterialComponents.Button"
									android:layout_width="wrap_content"
									android:layout_height="wrap_content"
									android:background="@color/colorAccent"
									android:onClick="verifyEmailCode"
									android:text="@string/verify"
									android:textColor="@color/whitesmoke"
									app:layout_constraintBottom_toBottomOf="parent"
									app:layout_constraintRight_toRightOf="parent"
									app:layout_constraintTop_toTopOf="parent"
									app:rippleColor="@color/smoke" />
							</android.support.constraint.ConstraintLayout>
						</LinearLayout>
					</android.support.design.card.MaterialCardView>
				</LinearLayout>
			</LinearLayout>
		</android.support.constraint.ConstraintLayout>

	</ScrollView>
</layout>
