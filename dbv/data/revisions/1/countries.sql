INSERT INTO `countries` (`country_id`, `country_name`, `continent`, `abbr`, `phone_code`, `currency_code`) VALUES
(1, 'Afghanistan', 'Asia', 'AF', 93, 'AFN'),
(2, 'Albania', 'Europe', 'AL', 355, 'ALL'),
(3, 'Algeria', 'Africa', 'DZ', 213, 'DZD'),
(4, 'American Samoa', 'Oceania', 'AS', 1684, 'USD'),
(5, 'Andorra', 'Europe', 'AD', 376, 'EUR'),
(6, 'Angola', 'Africa', 'AO', 244, 'AOA'),
(7, 'Anguilla', 'North America', 'AI', 1264, 'XCD'),
(8, 'Antarctica', 'Antarctica', 'AQ', 672, 'XCD'),
(9, 'Antigua and Barbuda', 'North America', 'AG', 1268, 'XCD'),
(10, 'Argentina', 'South America', 'AR', 54, 'ARS'),
(11, 'Armenia', 'Asia', 'AM', 374, 'AMD'),
(12, 'Aruba', 'North America', 'AW', 297, 'AWG'),
(13, 'Australia', 'Oceania', 'AU', 61, 'AUD'),
(14, 'Austria', 'Europe', 'AT', 43, 'EUR'),
(15, 'Azerbaijan', 'Asia', 'AZ', 994, 'AZN'),
(16, 'Bahamas', 'North America', 'BS', 1242, 'BSD'),
(17, 'Bahrain', 'Asia', 'BH', 973, 'BHD'),
(18, 'Bangladesh', 'Asia', 'BD', 880, 'BDT'),
(19, 'Barbados', 'North America', 'BB', 1246, 'BBD'),
(20, 'Belarus', 'Europe', 'BY', 375, 'BYR'),
(21, 'Belgium', 'Europe', 'BE', 32, 'EUR'),
(22, 'Belize', 'North America', 'BZ', 501, 'BZD'),
(23, 'Benin', 'Africa', 'BJ', 229, 'XOF'),
(24, 'Bermuda', 'North America', 'BM', 1441, 'BMD'),
(25, 'Bhutan', 'Asia', 'BT', 975, 'BTN'),
(26, 'Bolivia', 'South America', 'BO', 591, 'BOB'),
(27, 'Bosnia and Herzegovina', 'Europe', 'BA', 387, 'BAM'),
(28, 'Botswana', 'Africa', 'BW', 267, 'BWP'),
(29, 'Bouvet Island', 'Antarctica', 'BV', 55, 'NOK'),
(30, 'Brazil', 'South America', 'BR', 55, 'BRL'),
(31, 'British Indian Ocean Territory', 'Africa', 'IO', 246, 'USD'),
(32, 'Brunei', 'Asia', 'BN', 673, 'BND'),
(33, 'Bulgaria', 'Europe', 'BG', 359, 'BGN'),
(34, 'Burkina Faso', 'Africa', 'BF', 226, 'XOF'),
(35, 'Burundi', 'Africa', 'BI', 257, 'BIF'),
(36, 'Cambodia', 'Asia', 'KH', 855, 'KHR'),
(37, 'Cameroon', 'Africa', 'CM', 237, 'XAF'),
(38, 'Canada', 'North America', 'CA', 1, 'CAD'),
(39, 'Cape Verde', 'Africa', 'CV', 238, 'CVE'),
(40, 'Cayman Islands', 'North America', 'KY', 1345, 'KYD'),
(41, 'Central African Republic', 'Africa', 'CF', 236, 'XAF'),
(42, 'Chad', 'Africa', 'TD', 235, 'XAF'),
(43, 'Chile', 'South America', 'CL', 56, 'CLP'),
(44, 'China', 'Asia', 'CN', 86, 'CNY'),
(45, 'Christmas Island', 'Oceania', 'CX', 61, 'AUD'),
(46, 'Cocos (Keeling) Islands', 'Oceania', 'CC', 61, 'AUD'),
(47, 'Colombia', 'South America', 'CO', 57, 'COP'),
(48, 'Comoros', 'Africa', 'KM', 269, 'KMF'),
(49, 'Congo', 'Africa', 'CG', 242, 'XAF'),
(50, 'Cook Islands', 'Oceania', 'CK', 682, 'NZD'),
(51, 'Costa Rica', 'North America', 'CR', 506, 'CRC'),
(52, 'Croatia', 'Europe', 'HR', 385, 'HRK'),
(53, 'Cuba', 'North America', 'CU', 53, 'CUP'),
(54, 'Cyprus', 'Asia', 'CY', 357, 'EUR'),
(55, 'Czech Republic', 'Europe', 'CZ', 420, 'CZK'),
(56, 'Denmark', 'Europe', 'DK', 45, 'DKK'),
(57, 'Djibouti', 'Africa', 'DJ', 253, 'DJF'),
(58, 'Dominica', 'North America', 'DM', 1767, 'XCD'),
(59, 'Dominican Republic', 'North America', 'DO', 1849, 'DOP'),
(60, 'East Timor', 'Asia', 'TP', 670, 'USD'),
(61, 'Ecuador', 'South America', 'EC', 593, 'ECS'),
(62, 'Egypt', 'Africa', 'EG', 20, 'EGP'),
(63, 'El Salvador', 'North America', 'SV', 503, 'SVC'),
(64, 'Equatorial Guinea', 'Africa', 'GQ', 240, 'XAF'),
(65, 'Eritrea', 'Africa', 'ER', 291, 'ERN'),
(66, 'Estonia', 'Europe', 'EE', 372, 'EUR'),
(67, 'Ethiopia', 'Africa', 'ET', 251, 'ETB'),
(68, 'Falkland Islands', 'South America', 'FK', 500, 'FKP'),
(69, 'Faroe Islands', 'Europe', 'FO', 298, 'DKK'),
(70, 'Federated States of Micronesia', 'Oceania', 'FM', 691, 'USD'),
(71, 'Fiji Islands', 'Oceania', 'FJ', 679, 'FJD'),
(72, 'Finland', 'Europe', 'FI', 358, 'EUR'),
(73, 'France', 'Europe', 'FR', 33, 'EUR'),
(74, 'French Guiana', 'South America', 'GF', 594, 'EUR'),
(75, 'French Polynesia', 'Oceania', 'PF', 689, 'XFP'),
(76, 'French Southern territories', 'Antarctica', 'TF', 262, 'EUR'),
(77, 'Gabon', 'Africa', 'GA', 241, 'XAF'),
(78, 'Gambia', 'Africa', 'GM', 220, 'GMD'),
(79, 'Georgia', 'Asia', 'GE', 995, 'GEL'),
(80, 'Germany', 'Europe', 'DE', 49, 'EUR'),
(81, 'Ghana', 'Africa', 'GH', 233, 'GHS'),
(82, 'Gibraltar', 'Europe', 'GI', 350, 'GIP'),
(83, 'Greece', 'Europe', 'GR', 30, 'EUR'),
(84, 'Greenland', 'North America', 'GL', 299, 'DKK'),
(85, 'Grenada', 'North America', 'GD', 1473, 'XCD'),
(86, 'Guadeloupe', 'North America', 'GP', 590, 'EUR'),
(87, 'Guam', 'Oceania', 'GU', 1671, 'USD'),
(88, 'Guatemala', 'North America', 'GT', 502, 'QTQ'),
(89, 'Guinea', 'Africa', 'GN', 224, 'GNF'),
(90, 'Guinea-Bissau', 'Africa', 'GW', 245, 'XOF'),
(91, 'Guyana', 'South America', 'GY', 592, 'GYD'),
(92, 'Haiti', 'North America', 'HT', 509, 'HTG'),
(93, 'Holy See (Vatican City State)', 'Europe', 'VA', 379, 'EUR'),
(94, 'Honduras', 'North America', 'HN', 504, 'HNL'),
(95, 'Hong Kong', 'Asia', 'HK', 852, 'HKD'),
(96, 'Hungary', 'Europe', 'HU', 36, 'HUF'),
(97, 'Iceland', 'Europe', 'IS', 354, 'ISK'),
(98, 'India', 'Asia', 'IN', 91, 'INR'),
(99, 'Indonesia', 'Asia', 'ID', 62, 'IDR'),
(100, 'Iran', 'Asia', 'IR', 98, 'IRR'),
(101, 'Iraq', 'Asia', 'IQ', 964, 'IQD'),
(102, 'Ireland', 'Europe', 'IE', 353, 'EUR'),
(103, 'Israel', 'Asia', 'IL', 972, 'ILS'),
(104, 'Italy', 'Europe', 'IT', 39, 'EUR'),
(105, 'Ivory Coast', 'Africa', 'CI', 225, 'XOF'),
(106, 'Jamaica', 'North America', 'JM', 1876, 'JMD'),
(107, 'Japan', 'Asia', 'JP', 81, 'JPY'),
(108, 'Jordan', 'Asia', 'JO', 962, 'JOD'),
(109, 'Kazakhstan', 'Asia', 'KZ', 7, 'KZT'),
(110, 'Kenya', 'Africa', 'KE', 254, 'KES'),
(111, 'Kiribati', 'Oceania', 'KI', 686, 'AUD'),
(112, 'Kuwait', 'Asia', 'KW', 965, 'KWD'),
(113, 'Kyrgyzstan', 'Asia', 'KG', 996, 'KGS'),
(114, 'Laos', 'Asia', 'LA', 856, 'LAK'),
(115, 'Latvia', 'Europe', 'LV', 371, 'LVL'),
(116, 'Lebanon', 'Asia', 'LB', 961, 'LBP'),
(117, 'Lesotho', 'Africa', 'LS', 266, 'LSL'),
(118, 'Liberia', 'Africa', 'LR', 231, 'LRD'),
(119, 'Libyan Arab Jamahiriya', 'Africa', 'LY', 218, 'LYD'),
(120, 'Liechtenstein', 'Europe', 'LI', 423, 'CHF'),
(121, 'Lithuania', 'Europe', 'LT', 370, 'LTL'),
(122, 'Luxembourg', 'Europe', 'LU', 352, 'EUR'),
(123, 'Macao', 'Asia', 'MO', 853, 'MOP'),
(124, 'Madagascar', 'Africa', 'MG', 261, 'MGF'),
(125, 'Malawi', 'Africa', 'MW', 265, 'MWK'),
(126, 'Malaysia', 'Asia', 'MY', 60, 'MYR'),
(127, 'Maldives', 'Asia', 'MV', 960, 'MVR'),
(128, 'Mali', 'Africa', 'ML', 223, 'XOF'),
(129, 'Malta', 'Europe', 'MT', 356, 'EUR'),
(130, 'Marshall Islands', 'Oceania', 'MH', 692, 'USD'),
(131, 'Martinique', 'North America', 'MQ', 596, 'EUR'),
(132, 'Mauritania', 'Africa', 'MR', 222, 'MRO'),
(133, 'Mauritius', 'Africa', 'MU', 230, 'MUR'),
(134, 'Mayotte', 'Africa', 'YT', 262, 'EUR'),
(135, 'Mexico', 'North America', 'MX', 52, 'MXN'),
(136, 'Moldova', 'Europe', 'MD', 373, 'MDL'),
(137, 'Monaco', 'Europe', 'MC', 377, 'EUR'),
(138, 'Mongolia', 'Asia', 'MN', 976, 'MNT'),
(139, 'Montserrat', 'North America', 'MS', 1664, 'XCD'),
(140, 'Morocco', 'Africa', 'MA', 212, 'MAD'),
(141, 'Mozambique', 'Africa', 'MZ', 258, 'MZN'),
(142, 'Myanmar', 'Asia', 'MM', 95, 'MMR'),
(143, 'Namibia', 'Africa', 'NA', 264, 'NAD'),
(144, 'Nauru', 'Oceania', 'NR', 674, 'AUD'),
(145, 'Nepal', 'Asia', 'NP', 977, 'NPR'),
(146, 'Netherlands', 'Europe', 'NL', 31, 'EUR'),
(147, 'Netherlands Antilles', 'North America', 'AN', 599, 'ANG'),
(148, 'New Caledonia', 'Oceania', 'NC', 687, 'XFP'),
(149, 'New Zealand', 'Oceania', 'NZ', 64, 'NZD'),
(150, 'Nicaragua', 'North America', 'NI', 505, 'NIO'),
(151, 'Niger', 'Africa', 'NE', 227, 'XOF'),
(152, 'Nigeria', 'Africa', 'NG', 234, 'NGN'),
(153, 'Niue', 'Oceania', 'NU', 683, 'NZD'),
(154, 'Norfolk Island', 'Oceania', 'NF', 672, 'AUD'),
(155, 'North Korea', 'Asia', 'KP', 850, 'KPW'),
(156, 'North Macedonia', 'Europe', 'MK', 389, 'MKD'),
(157, 'Northern Ireland', 'Europe', 'GB', 44, 'IEP'),
(158, 'Northern Mariana Islands', 'Oceania', 'MP', 1670, 'USD'),
(159, 'Norway', 'Europe', 'NO', 47, 'NOK'),
(160, 'Oman', 'Asia', 'OM', 968, 'OMR'),
(161, 'Pakistan', 'Asia', 'PK', 92, 'PKR'),
(162, 'Palau', 'Oceania', 'PW', 680, 'USD'),
(163, 'Palestine', 'Asia', 'PS', 970, 'ILS'),
(164, 'Panama', 'North America', 'PA', 507, 'PAB'),
(165, 'Papua New Guinea', 'Oceania', 'PG', 675, 'PGK'),
(166, 'Paraguay', 'South America', 'PY', 595, 'PYG'),
(167, 'Peru', 'South America', 'PE', 51, 'PEN'),
(168, 'Philippines', 'Asia', 'PH', 63, 'PHP'),
(169, 'Pitcairn', 'Oceania', 'PN', 64, 'PND'),
(170, 'Poland', 'Europe', 'PL', 48, 'PLN'),
(171, 'Portugal', 'Europe', 'PT', 351, 'EUR'),
(172, 'Puerto Rico', 'North America', 'PR', 1939, 'USD'),
(173, 'Qatar', 'Asia', 'QA', 974, 'QAR'),
(174, 'Reunion', 'Africa', 'RE', 262, 'EUR'),
(175, 'Romania', 'Europe', 'RO', 40, 'RON'),
(176, 'Russian Federation', 'Europe', 'RU', 7, 'RUB'),
(177, 'Rwanda', 'Africa', 'RW', 250, 'RWF'),
(178, 'Saint Helena', 'Africa', 'SH', 290, 'SHP'),
(179, 'Saint Kitts and Nevis', 'North America', 'KN', 1869, 'XCD'),
(180, 'Saint Lucia', 'North America', 'LC', 1758, 'XCD'),
(181, 'Saint Pierre and Miquelon', 'North America', 'PM', 508, 'EUR'),
(182, 'Saint Vincent and the Grenadines', 'North America', 'VC', 1784, 'XCD'),
(183, 'Samoa', 'Oceania', 'WS', 685, 'WST'),
(184, 'San Marino', 'Europe', 'SM', 378, 'EUR'),
(185, 'Sao Tome and Principe', 'Africa', 'ST', 239, 'STD'),
(186, 'Saudi Arabia', 'Asia', 'SA', 966, 'SAR'),
(187, 'Senegal', 'Africa', 'SN', 221, 'XOF'),
(188, 'Seychelles', 'Africa', 'SC', 248, 'SCR'),
(189, 'Sierra Leone', 'Africa', 'SL', 232, 'SLL'),
(190, 'Singapore', 'Asia', 'SG', 65, 'SGD'),
(191, 'Slovakia', 'Europe', 'SK', 421, 'EUR'),
(192, 'Slovenia', 'Europe', 'SI', 386, 'EUR'),
(193, 'Solomon Islands', 'Oceania', 'SB', 677, 'SBD'),
(194, 'Somalia', 'Africa', 'SO', 252, 'SOS'),
(195, 'South Africa', 'Africa', 'ZA', 27, 'ZAR'),
(196, 'South Georgia and the South Sandwich Islands', 'Antarctica', 'GS', 500, 'GBP'),
(197, 'South Korea', 'Asia', 'KR', 82, 'KRW'),
(198, 'South Sudan', 'Africa', 'SS', 211, 'SSP'),
(199, 'Spain', 'Europe', 'ES', 34, 'EUR'),
(200, 'SriLanka', 'Asia', 'LK', 94, 'LKR'),
(201, 'Sudan', 'Africa', 'SD', 249, 'SDG'),
(202, 'Suriname', 'South America', 'SR', 597, 'SRD'),
(203, 'Svalbard and Jan Mayen', 'Europe', 'SJ', 47, 'NOK'),
(204, 'Swaziland', 'Africa', 'SZ', 268, 'SZL'),
(205, 'Sweden', 'Europe', 'SE', 46, 'SEK'),
(206, 'Switzerland', 'Europe', 'CH', 41, 'CHF'),
(207, 'Syria', 'Asia', 'SY', 963, 'SYP'),
(208, 'Tajikistan', 'Asia', 'TJ', 992, 'TJS'),
(209, 'Tanzania', 'Africa', 'TZ', 255, 'TZS'),
(210, 'Thailand', 'Asia', 'TH', 66, 'THB'),
(211, 'The Democratic Republic of Congo', 'Africa', 'CD', 243, 'CDF'),
(212, 'Togo', 'Africa', 'TG', 228, 'XOF'),
(213, 'Tokelau', 'Oceania', 'TK', 690, 'NZD'),
(214, 'Tonga', 'Oceania', 'TO', 676, 'TOP'),
(215, 'Trinidad and Tobago', 'North America', 'TT', 1868, 'TTD'),
(216, 'Tunisia', 'Africa', 'TN', 216, 'TND'),
(217, 'Turkey', 'Asia', 'TR', 90, 'TRY'),
(218, 'Turkmenistan', 'Asia', 'TM', 993, 'TMT'),
(219, 'Turks and Caicos Islands', 'North America', 'TC', 1649, 'USD'),
(220, 'Tuvalu', 'Oceania', 'TV', 688, 'AUD'),
(221, 'Uganda', 'Africa', 'UG', 256, 'UGX'),
(222, 'Ukraine', 'Europe', 'UA', 380, 'UAH'),
(223, 'United Arab Emirates', 'Asia', 'AE', 971, 'AED'),
(224, 'United Kingdom', 'Europe', 'GB', 44, 'EUR'),
(225, 'United States', 'North America', 'US', 1, 'USD'),
(226, 'United States Minor Outlying Islands', 'Oceania', 'UM', 246, 'USD'),
(227, 'Uruguay', 'South America', 'UY', 598, 'UYU'),
(228, 'Uzbekistan', 'Asia', 'UZ', 998, 'UZS'),
(229, 'Vanuatu', 'Oceania', 'VU', 678, 'VUV'),
(230, 'Venezuela', 'South America', 'VE', 58, 'VEF'),
(231, 'Vietnam', 'Asia', 'VN', 84, 'VND'),
(232, 'Virgin Islands, British', 'North America', 'VG', 1, 'USD'),
(233, 'Virgin Islands, U.S.', 'North America', 'VI', 1, 'USD'),
(234, 'Wallis and Futuna', 'Oceania', 'WF', 681, 'XFP'),
(235, 'Western Sahara', 'Africa', 'EH', 212, 'MAD'),
(236, 'Yemen', 'Asia', 'YE', 967, 'YER'),
(237, 'Yugoslavia', 'Europe', 'YU', 38, 'YUM'),
(238, 'Zambia', 'Africa', 'ZM', 260, 'ZMW'),
(239, 'Zimbabwe', 'Africa', 'ZW', 263, 'ZWD');
ALTER TABLE `tbl_users` ADD `country_id` INT NOT NULL DEFAULT '110' AFTER `show_deleted`;
ALTER TABLE `tbl_users` ADD FOREIGN KEY (`country_id`) REFERENCES `countries`(`country_id`) ON DELETE RESTRICT ON UPDATE RESTRICT;
ALTER TABLE `products` DROP INDEX `product`;
ALTER TABLE `purchases` DROP FOREIGN KEY `purchases_ibfk_1`;
ALTER TABLE `purchases` DROP INDEX `Product`;
ALTER TABLE `purchases` CHANGE `Purchase-id` `purchase_id` BIGINT NOT NULL AUTO_INCREMENT, CHANGE `Product` `product_id` INT NOT NULL, CHANGE `Amount` `quantity` INT(30) NOT NULL, CHANGE `T-cost` `total_cost` INT(30) NOT NULL, CHANGE `Date-time` `create_date` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP;
ALTER TABLE `purchases` ADD `modified_date` TIMESTAMP on update CURRENT_TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP AFTER `create_date`, ADD `suspended` BOOLEAN NOT NULL DEFAULT FALSE AFTER `modified_date`;
ALTER TABLE `purchases` ADD `active` BOOLEAN NOT NULL DEFAULT TRUE AFTER `modified_date`;
ALTER TABLE `purchases` ADD `recorded_by` BIGINT(12) NOT NULL AFTER `total_cost`, ADD `modified_by` BIGINT(12) NOT NULL AFTER `recorded_by`;
ALTER TABLE `purchases` ADD FOREIGN KEY (`modified_by`) REFERENCES `tbl_users`(`user_id`) ON DELETE RESTRICT ON UPDATE RESTRICT;
ALTER TABLE `purchases` ADD FOREIGN KEY (`product_id`) REFERENCES `products`(`product_id`) ON DELETE RESTRICT ON UPDATE RESTRICT;
ALTER TABLE `purchases` ADD FOREIGN KEY (`recorded_by`) REFERENCES `tbl_users`(`user_id`) ON DELETE RESTRICT ON UPDATE RESTRICT;
INSERT INTO `departments` (`department_id`, `department`, `modified_date`, `create_date`, `suspended`) VALUES (NULL, 'stock manager', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, '0');
ALTER TABLE `products` ADD UNIQUE( `product`, `owner_id`);
ALTER TABLE `purchases` ADD `discount` INT NOT NULL DEFAULT '0' AFTER `total_cost`;
INSERT INTO `payment_methods` (`method_id`, `method`, `create_date`, `modified_date`, `suspended`) VALUES (1, 'cash', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, '0'), (2, 'm-pesa', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, '0');
INSERT INTO `pay_for` (`payfor_id`, `pay_for`, `create_date`, `modified_date`, `suspended`) VALUES (1, 'sale', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, '0'), (2, 'purchase', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, '0');
ALTER TABLE `purchases` ADD `payment_id` INT NOT NULL AFTER `product_id`;
ALTER TABLE `purchases` ADD FOREIGN KEY (`payment_id`) REFERENCES `payments`(`payment_id`) ON DELETE RESTRICT ON UPDATE RESTRICT;
ALTER TABLE `sales` DROP FOREIGN KEY `sales_ibfk_1`;
ALTER TABLE `sales` DROP INDEX `Product`;
ALTER TABLE `sales` CHANGE `Sale-id` `sale_id` INT(11) NOT NULL AUTO_INCREMENT, CHANGE `Product` `product_id` INT NOT NULL, CHANGE `Amount` `payment_id` INT NULL DEFAULT NULL, CHANGE `T-cost` `quantity` INT(30) NOT NULL, CHANGE `Date-time` `cost_per_item` INT NOT NULL;
ALTER TABLE `sales` ADD `discount` INT NOT NULL AFTER `cost_per_item`, ADD `recorded_by` BIGINT NOT NULL AFTER `discount`, ADD `modified_by` BIGINT NOT NULL AFTER `recorded_by`, ADD `create_date` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP AFTER `modified_by`, ADD `modified_date` TIMESTAMP on update CURRENT_TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP AFTER `create_date`, ADD `active` BOOLEAN NOT NULL DEFAULT TRUE AFTER `modified_date`;
ALTER TABLE `sales` ADD `suspended` BOOLEAN NOT NULL DEFAULT FALSE AFTER `active`;
ALTER TABLE `payments` DROP `amount`;
ALTER TABLE `purchases` ADD UNIQUE(`payment_id`);